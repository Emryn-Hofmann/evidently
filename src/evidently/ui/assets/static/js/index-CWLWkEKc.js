const __vite__fileDeps=["static/js/index-Cfo5UrCn.js","static/js/vendor-Dl30jUo6.js","static/js/createSvgIcon-Dj5K8CUi.js","static/js/index-DaZfWnrI.js","static/js/DashboardViewParams-CHCK3ad2.js","static/js/index-MDLmUNuP.js","static/js/DashboardWidgets-B7hs49f6.js","static/js/DashboardContent-DYmRWAZb.js","static/js/Edit-B7HvOIBP.js","static/js/index-DFFxd1Tu.js","static/js/index-C3LuGopW.js","static/js/ContentCopy-WU1gGLYd.js","static/css/index-C5isHALn.css","static/js/index-CDkRYty3.js","static/js/index-CrrdcPNd.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var X=Object.defineProperty;var Z=(t,e,r)=>e in t?X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var k=(t,e,r)=>(Z(t,typeof e!="symbol"?e+"":e,r),r);import{c as U,g as y,u as tt,j as s,A,a as B,i as et,T,b as rt,R,r as st,S as ot,B as b,I as nt,C as it,d as at,e as F,f as g,h as w,L as ct,k as ht,G as I,F as dt,l as lt,m as ut,n as pt,o as ft,M as p,D as G,p as mt,q as jt,s as D,z as u,O as z,t as xt,v as yt,w as gt,x as _t}from"./vendor-Dl30jUo6.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const{transitions:E}=U(),x="#ed0500",St="#ded5d5",vt=U({shape:{borderRadius:5},palette:{primary:{main:y[900],light:y[200]},secondary:{main:x,dark:"#c10400",light:y[200]},background:{default:"#fff",paper:"#fff"}},components:{MuiLink:{styleOverrides:{root:{transition:E.create("color",{duration:E.duration.enteringScreen}),"&:hover":{color:x}}}},MuiTabs:{styleOverrides:{flexContainer:{gap:"10px"},indicator:{backgroundColor:x}}},MuiButton:{styleOverrides:{contained:{"&:hover":{background:y[800]}},outlined:{"&:hover":{color:x,borderColor:x,background:"#fff"}},text:{"&:hover":{color:x,borderColor:x}}}},MuiTab:{defaultProps:{color:"secondary"},styleOverrides:{root:{fontSize:"1rem",borderRadius:"5px","&:hover":{background:y[200]}}}},MuiIconButton:{styleOverrides:{root:{transition:E.create("color",{duration:E.duration.enteringScreen}),color:y[900],"&:hover":{color:x}}}},MuiSwitch:{defaultProps:{color:"secondary"}},MuiToggleButton:{defaultProps:{color:"secondary"},styleOverrides:{root:{transition:E.create("color",{duration:E.duration.enteringScreen}),color:y[900],"&:hover":{color:x},"&.Mui-disabled":{border:"unset",background:y[100]}}}},MuiToggleButtonGroup:{defaultProps:{color:"secondary"}},MuiLinearProgress:{defaultProps:{color:"secondary"}},MuiPaper:{styleOverrides:{root:{boxShadow:"unset",border:"1px solid",borderColor:St}}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:"bold",textTransform:"none"}}}),m=()=>{var e;const t=tt();return s.jsxs(A,{severity:"error",children:[s.jsx(B,{children:"Something went wrong"}),et(t)&&s.jsxs(s.Fragment,{children:[s.jsx(T,{fontWeight:"bold",children:[`Status: ${t.status}`,typeof((e=t.data)==null?void 0:e.detail)=="string"&&t.data.detail].filter(Boolean).join(", ")}),typeof t.data=="string"&&s.jsx(T,{children:t.data})]}),typeof t=="string"&&s.jsx(T,{fontWeight:"bold",children:t})]})},H=({data:t})=>{const[e,r]=R.useState(!1),o=R.useRef(null);return st.useEffect(()=>{t!=null&&t.error&&(o.current=t.error,r(!0))},[t]),s.jsx(ot,{open:e,onClose:(n,i)=>{i!=="clickaway"&&r(!1)},children:s.jsx(A,{severity:"error",children:s.jsxs(b,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2,children:[s.jsxs(b,{children:[s.jsx(B,{children:"Something went wrong"}),o.current&&s.jsx(T,{fontWeight:"bold",children:[typeof o.current.status_code=="number"&&`Status: ${o.current.status_code}`,typeof o.current.detail=="string"&&o.current.detail].filter(Boolean).join(", ")})]}),s.jsx(b,{children:s.jsx(nt,{size:"small","aria-label":"close",color:"inherit",onClick:()=>{r(!1)},children:s.jsx(it,{})})})]})})})},$=()=>{const t=rt();return s.jsx(H,{data:t})},bt=()=>{var r;const e=(r=at().find(o=>{var n;return!!((n=o.data)!=null&&n.error)}))==null?void 0:r.data;return s.jsx(H,{data:e})},wt="modulepreload",Et=function(t){return"/"+t},V={},_=function(e,r,o){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.all(r.map(c=>{if(c=Et(c),c in V)return;V[c]=!0;const f=c.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":wt,f||(h.as="script",h.crossOrigin=""),h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),f)return new Promise((S,v)=>{h.addEventListener("load",S),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}return n.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Pt=({api:t})=>({loader:()=>t.getVersion()});class Tt{constructor(){k(this,"at",0);k(this,"ch","");k(this,"text","");k(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(e){throw{name:"SyntaxError",message:e,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(e){e!==this.ch&&this.error(`Expected '${e}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var e="";if(this.ch==="-"&&(e="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)e+=this.ch,this.next();if(this.ch===".")for(e+=".";this.next()&&this.ch>="0"&&this.ch<="9";)e+=this.ch;if(this.ch==="e"||this.ch==="E")for(e+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(e+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)e+=this.ch,this.next();return+e}string(){var e,r,o="",n;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),o;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(n=0,r=0;r<4&&(e=parseInt(this.next(),16),!!isFinite(e));r++)n=n*16+e;o+=String.fromCharCode(n)}else if(this.escapee[this.ch])o+=this.escapee[this.ch];else break;else o+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var e=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),e;for(;this.ch;){if(e.push(this.value()),this.white(),this.ch==="]")return this.check("]"),e;this.check(","),this.white()}}this.error("Bad array")}object(){var e,r={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),r;for(;this.ch;){if(e=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(r,e)&&this.error('Duplicate key "'+e+'"'),r[e]=this.value(),this.white(),this.ch==="}")return this.check("}"),r;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(e,r){let o;return this.text=e,this.at=0,this.ch=" ",o=this.value(),this.white(),this.ch&&this.error("Syntax error"),r!==void 0?function n(i,a){var c,f,d=i[a];if(d&&typeof d=="object")for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(f=n(d,c),f!==void 0?d[c]=f:delete d[c]);return r.call(i,a,d)}({"":o},""):o}}const C=t=>new Tt().parse(t),kt=t=>{const e=F({baseUrl:t});return{async getProjectDashboard({project:r,options:o}){const{data:n,error:i,response:a}=await e.GET("/api/projects/{project_id}/dashboard",{parseAs:"text",params:{path:{project_id:r.id},query:{timestamp_start:o.timestamp_start,timestamp_end:o.timestamp_end}}});if(i)throw g(i,{status:a.status});return C(n)},async getSnapshotDashboard({project:r,snapshot:o}){const{data:n,error:i,response:a}=await e.GET("/api/projects/{project_id}/{snapshot_id}/data",{parseAs:"text",params:{path:{project_id:r.id,snapshot_id:o.id}}});if(i)throw g(i,{status:a.status});return C(n)},async getDashboardGraph({project:r,snapshot:o,graph:n}){const{data:i,error:a,response:c}=await e.GET("/api/projects/{project_id}/{snapshot_id}/graphs_data/{graph_id}",{parseAs:"text",params:{path:{project_id:r.id,snapshot_id:o.id,graph_id:encodeURIComponent(n.id)}}});if(a)throw g(a,{status:c.status});return C(i)}}},P=t=>{if(t.id)return{...t,id:t.id};throw`"id" is missing in object: ${JSON.stringify(t)}`},W=t=>{if(t.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})},It=t=>{const e=F({baseUrl:t});return{async list(){const{data:r,error:o,response:n}=await e.GET("/api/projects");if(o)throw g(o,{status:n.status});return r.map(P)},async update({body:r}){const{data:o,error:n}=await e.POST("/api/projects/{project_id}/info",{params:{path:{project_id:r.id}},body:r});return n?{error:n}:P(o)},async get({id:r}){const{data:o,error:n,response:i}=await e.GET("/api/projects/{project_id}/info",{params:{path:{project_id:r}}});if(n)throw g(n,{status:i.status});return P(o)},async delete({id:r}){const{error:o}=await e.DELETE("/api/projects/{project_id}",{params:{path:{project_id:r}}});return o?{error:o}:null},async create({body:r}){const{data:o,error:n}=await e.POST("/api/projects",{body:r});return n?{error:n}:P(o)},async reloadSnapshots({project:r}){const{error:o}=await e.GET("/api/projects/{project_id}/reload",{params:{path:{project_id:r.id}}});return o?{error:o}:null},async deleteSnapshot({project:r,snapshot:o}){const{error:n}=await e.DELETE("/api/projects/{project_id}/{snapshot_id}",{params:{path:{project_id:r.id,snapshot_id:o.id}}});return n?{error:n}:null},async listReports({project:r}){const{data:o,error:n,response:i}=await e.GET("/api/projects/{project_id}/reports",{params:{path:{project_id:r.id}}});if(n)throw g(n,{status:i.status});return o.map(P)},async listTestSuites({project:r}){const{data:o,error:n,response:i}=await e.GET("/api/projects/{project_id}/test_suites",{params:{path:{project_id:r.id}}});if(n)throw g(n,{status:i.status});return o.map(P)}}},Dt=t=>{const e=F({baseUrl:t});return{async getVersion(){const{data:r,error:o,response:n}=await e.GET("/api/version");if(o)throw g(o,{status:n.status});return r}}},M=kt("/"),O=It("/"),Ot=Dt("/"),Ct="/static/img/logo.png",{loader:Lt}=Pt({api:Ot}),Rt={path:"/",lazy:async()=>{const{HomeComponentTemplate:t,...e}=await _(()=>import("./index-Cfo5UrCn.js"),__vite__mapDeps([0,1,2]));return{Component:()=>s.jsxs(s.Fragment,{children:[s.jsx(bt,{}),s.jsx(t,{logoSrc:Ct})]}),...e}},loader:Lt,ErrorBoundary:m},At=({api:t})=>({loader:({params:e})=>{const{projectId:r}=e;return w(r),t.get({id:r})}});function L(t){return typeof t!=typeof new Date?(console.log(`not a date ${typeof t}: ${t}`),t):`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}T${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}const l={FROM:"date_from",TO:"date_to"},Bt=t=>{let e=t.get(l.FROM),r=t.get(l.TO);return{date_from:e,date_to:r}},Ft=({dataRanges:t})=>{const[e,r]=jt(),{date_from:o,date_to:n}=Bt(e),i=D(o||t.minDate),a=D(n||t.maxDate);return{isCorrectTimeInterval:i.isValid()&&a.isValid()&&(i.isSame(a)||i.isBefore(a)),date_from:i,date_to:a,setSearchParams:r}},xe=({dataRanges:t,isDashboardHideDates:e,setIsDashboardHideDates:r,isShowDateFilter:o})=>{const{isCorrectTimeInterval:n,date_from:i,date_to:a,setSearchParams:c}=Ft({dataRanges:t}),f=n?"":"incorrect time interval",d=h=>S=>{c(v=>(v.delete(h),S&&v.append(h,L(S.toDate())),v),{preventScrollReset:!0,replace:!0})};return s.jsx(ct,{dateAdapter:ht,adapterLocale:"en-gb",children:s.jsxs(I,{container:!0,padding:1,zIndex:1,gap:2,justifyContent:"flex-end",alignItems:"flex-end",children:[s.jsx(I,{item:!0,children:s.jsx(b,{minWidth:180,display:"flex",justifyContent:"center",children:s.jsx(dt,{control:s.jsx(lt,{checked:e,onChange:h=>r(h.target.checked)}),label:"Show in order"})})}),o&&s.jsxs(s.Fragment,{children:[s.jsx(I,{item:!0,xs:12,md:2,children:s.jsxs(ut,{fullWidth:!0,children:[s.jsx(pt,{children:"Period"}),s.jsxs(ft,{variant:"standard",defaultValue:"",onChange:h=>{const[S,v]=h.target.value.split(",");if(S===""){c(j=>(j.delete(l.FROM),j.delete(l.TO),j),{preventScrollReset:!0,replace:!0});return}const[Y,K]=[Number(S),v],N=t.maxDate.subtract(Y,K);c(j=>(j.delete(l.FROM),j.delete(l.TO),j.append(l.FROM,L(N.isBefore(t.minDate)?t.minDate.toDate():N.toDate())),j.append(l.TO,L(t.maxDate.toDate())),j),{preventScrollReset:!0,replace:!0})},children:[s.jsx(p,{value:"",children:s.jsx("em",{children:"None"})}),s.jsx(p,{value:"10,minutes",children:"Last 10 Minutes"}),s.jsx(p,{value:"30,minutes",children:"Last 30 Minutes"}),s.jsx(p,{value:"1,hours",children:"Last 1 Hours"}),s.jsx(p,{value:"2,hours",children:"Last 2 Hours"}),s.jsx(p,{value:"8,hours",children:"Last 8 Hours"}),s.jsx(p,{value:"24,hours",children:"Last 24 Hours"}),s.jsx(p,{value:"7,days",children:"Last 7 Days"}),s.jsx(p,{value:"14,days",children:"Last 14 Days"}),s.jsx(p,{value:"28,days",children:"Last 28 Days"}),s.jsx(p,{value:"60,days",children:"Last 60 Days"})]})]})}),s.jsx(I,{item:!0,children:s.jsxs(b,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(G,{minDate:t.minDate,maxDate:t.maxDate&&a,slotProps:{textField:{variant:"standard"}},label:"From",value:i,onChange:d(l.FROM)}),s.jsx(b,{height:1,display:"flex",alignItems:"center",children:s.jsx(T,{children:" - "})}),s.jsx(G,{minDate:t.minDate&&i,maxDate:t.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:a,onChange:d(l.TO)})]})}),s.jsx(I,{item:!0,xs:12,children:s.jsx(mt,{unmountOnExit:!0,in:!n,children:s.jsxs(A,{severity:"error",children:[s.jsx(B,{children:"Error"}),f]})})})]})]})})},$t=({api:t})=>({loader:({params:e,request:r})=>{w(e.projectId);const{searchParams:o}=new URL(r.url);let n=o.get(l.FROM),i=o.get(l.TO);return n&&!D(n).isValid()&&(n=null),i&&!D(i).isValid()&&(i=null),t.getProjectDashboard({project:{id:e.projectId},options:{timestamp_start:n,timestamp_end:i}})}}),{loader:Mt}=$t({api:M}),Nt={index:!0,id:"dashboard",lazy:async()=>{const[{DashboardComponentTemplate:t},{DashboardWidgets:e}]=await Promise.all([_(()=>import("./index-DaZfWnrI.js"),__vite__mapDeps([3,1,4,5])),_(()=>import("./DashboardWidgets-B7hs49f6.js"),__vite__mapDeps([6,1,7,4,2,8]))]);return{Component:()=>s.jsx(t,{Dashboard:({data:{widgets:r}})=>s.jsx(e,{widgets:r})})}},loader:Mt,ErrorBoundary:m},Gt=({api:t})=>({loader:({params:e})=>{const{projectId:r,snapshotId:o}=e;return w(r),w(o),t.getSnapshotDashboard({project:{id:r},snapshot:{id:o}})}}),{loader:Vt}=Gt({api:M}),q={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:t,...e}=await _(()=>import("./index-DFFxd1Tu.js"),__vite__mapDeps([9,1,7,4,2,8]));return{Component:()=>s.jsx(t,{api:M}),...e}},loader:Vt,ErrorBoundary:m},J={RELOAD_SNAPSHOTS:"reload-snapshots",DELETE_SNAPSHOT:"delete-snapshot"},Ut=u.object({action:u.literal(J.RELOAD_SNAPSHOTS)}),zt=u.object({action:u.literal(J.DELETE_SNAPSHOT),snapshotId:u.string().uuid()}),Q=t=>async({request:e,params:r})=>{w(r.projectId),W(e);const o=await e.json();if(Ut.safeParse(o).success)return t.reloadSnapshots({project:{id:r.projectId}});const i=zt.safeParse(o);return i.success?t.deleteSnapshot({project:{id:r.projectId},snapshot:{id:i.data.snapshotId}}):{error:{status_code:!1,detail:"Unknown action"}}},Ht=({api:t})=>({loader:({params:e})=>(w(e.projectId),t.listReports({project:{id:e.projectId}})),action:Q(t)}),Wt=({api:t})=>({loader:({params:e})=>(w(e.projectId),t.listTestSuites({project:{id:e.projectId}})),action:Q(t)}),{loader:qt,action:Jt}=Ht({api:O}),Qt={index:!0,lazy:async()=>{const{SnapshotsListTemplate:t,...e}=await _(()=>import("./index-C3LuGopW.js"),__vite__mapDeps([10,1,5,11,2,12]));return{...e,Component:()=>s.jsxs(s.Fragment,{children:[s.jsx($,{}),s.jsx(t,{type:"reports"})]})}},loader:qt,action:Jt,ErrorBoundary:m},Yt=(t,{pathname:e})=>({to:e,linkText:"Reports"}),Kt={id:"reports",path:"reports",handle:{crumb:Yt},Component:()=>s.jsx(z,{}),ErrorBoundary:m,children:[Qt,q]},{loader:Xt,action:Zt}=Wt({api:O}),te={index:!0,lazy:async()=>{const{SnapshotsListTemplate:t,...e}=await _(()=>import("./index-C3LuGopW.js"),__vite__mapDeps([10,1,5,11,2,12]));return{...e,Component:()=>s.jsxs(s.Fragment,{children:[s.jsx($,{}),s.jsx(t,{type:"test suites"})]})}},loader:Xt,action:Zt,ErrorBoundary:m},ee=(t,{pathname:e})=>({to:e,linkText:"Test Suites"}),re={id:"test_suites",path:"test-suites",handle:{crumb:ee},Component:()=>s.jsx(z,{}),ErrorBoundary:m,children:[te,q]},{loader:se}=At({api:O}),oe={path:"projects/:projectId",lazy:()=>_(()=>import("./index-CDkRYty3.js"),__vite__mapDeps([13,1,11,2])),loader:se,ErrorBoundary:m,children:[Nt,Kt,re]},ne=u.object({action:u.literal("edit-project")}),ie=u.object({action:u.literal("create-new-project")}),ae=u.object({action:u.literal("delete-project"),projectId:u.string().uuid()}),ce=({api:t})=>({loader:()=>t.list(),action:async({request:e})=>{W(e);const r=await e.json();if(ie.safeParse(r).success)return t.create({body:r});const o=ae.safeParse(r);if(o.success)return t.delete({id:o.data.projectId});if(ne.safeParse(r).success)return t.update({body:r});throw"Undefined action"}}),{loader:he,action:de}=ce({api:O}),le={index:!0,lazy:()=>_(()=>import("./index-CrrdcPNd.js"),__vite__mapDeps([14,1,8,2,5])).then(t=>({...t,Component:()=>s.jsxs(s.Fragment,{children:[s.jsx($,{}),s.jsx(t.Component,{})]})})),loader:he,action:de,ErrorBoundary:m},ue={path:"*",Component:()=>s.jsx(b,{display:"flex",justifyContent:"center",children:s.jsx(T,{variant:"h4",children:"Page Not Found"})})},pe={...Rt,children:[le,oe,ue],ErrorBoundary:m},fe=xt([pe]);yt.createRoot(document.getElementById("root")).render(s.jsx(R.StrictMode,{children:s.jsx(gt,{theme:vt,children:s.jsx(_t,{router:fe})})}));export{xe as D};
